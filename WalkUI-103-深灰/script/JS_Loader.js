let iiillll1=li1illii,iil1ili1=(!function(){for(var i=li1illii,l=iiiiiii1();;)try{if(159803==+parseInt(i(420))+parseInt(i(475))/2*(-parseInt(i(570))/3)+-parseInt(i(554))/4+-parseInt(i(377))/5*(-parseInt(i(369))/6)+parseInt(i(466))/7*(parseInt(i(487))/8)+-parseInt(i(519))/9*(parseInt(i(459))/10)+-parseInt(i(481))/11*(-parseInt(i(490))/12))break;l.push(l.shift())}catch(i){l.push(l.shift())}}(),(i=8)=>Array[iiillll1(537)]({length:i},()=>iiillll1(494)[Math[iiillll1(509)](52*Math.random())])[iiillll1(474)]("")[iiillll1(470)]()),l1111lii=iil1ili1(8),liil1l1l=iil1ili1(8),i11ilii1=iiillll1(568),liil11ll=i11ilii1,l1iillll=iiillll1(584),l1illii1=i=>-1===(plyrId=getLocalPlayerUniqueID())?showToast(i):clientMessage(iiillll1(479)+i);function ii1li1li(l,e){var t=iiillll1;try{var a=getResource()+t(617);let i={};try{var s=read_file(a);s&&s[t(451)]()&&(i=JSON[t(383)](s))}catch(i){clientMessage(t(547)+i[t(437)]+t(406))}i[l]=e,write_file(a,JSON[t(604)](i,null,2))}catch(i){t(526)!==t(526)?l1iil1l1[t(423)]({type:"edit",key:iil11i1l,value:iil1ilii,item:lli111il}):clientMessage("保存设置错误: "+i[t(437)])}}function iiilil1l(i){let l=iiillll1,e=function(){let l=!0;return function(t,a){var i=l?function(){let l=li1illii;var i,e;if(a)return"dwzjD"!==l(439)?(i=a.apply(t,arguments),a=null,i):(i={type:l111ilii[l(507)],name:li11iiii[l(588)],color:llill1i1[l(488)]||this.getFrstNnNullClr(llii11i1),size:i1ll1iii[l(505)]||13,padding:i1iiiiil[l(500)]||(i1lliiii.type===l(432)?[2,2,2,2]:[5,5,5,5]),key:liii1il1[l(362)],...ili1il11[l(446)]||{}},e={ColorPicker:{default_color:i1iiliii[l(380)]||l(403),ok:liiliii1.ok||"确定",cancel:li1ii11i[l(419)]||"取消"},SeekBar:{format:l11iii1i[l(588)]+l(622),min:llllii11(l11i1i11[l(620)]||0)[l(361)](1),max:iliii11i(lllllll1.max||100).toFixed(1),value:l1i1ilii(iiiiilil[l(447)]||0)[l(361)](1)},Switch:{checked:l1iiil1i(i111lli1[l(560)])},CheckBox:{checked:ll1l11li(i1ili11i.checked)},TextView:{},EditText:{text:ii1liili[l(414)]||"",max_lines:i1liiil1.max_lines||1,hint:l1liiil1.hint||lli1iili[l(588)]},RadioGroup:{items:(illi11ii.items||[]).map(i=>({key:i[l(362)],name:i[l(588)],color:i[l(488)]||l(538),size:i[l(505)]||8,checked:illil1i1(i[l(560)])}))}},{...i,...e[l111il1i.type]||{},onChange:iliillll[l(423)]||null,html:iiiillii[l(468)],url:iiiiilii[l(508)],tip:iii11lil[l(523)]})}:function(){};return l=!1,i}}(),t=e(this,function(){var i=li1illii;return t.toString().search(i(398))[i(565)]().constructor(t)[i(499)](i(398))});t();try{var a=getResource()+l(617),s=read_file(a);if(s&&s.trim())return JSON[l(383)](s)[i]||""}catch(i){"TlBar"!==l(385)?clientMessage("加载设置错误: "+i[l(437)]):l1i1li1i(l(527)+ll11lil1.key+": "+i1liil1i.message)}}class llii11ll{constructor(){var i=iiillll1;this[i(477)]=l1111lii,this[i(492)]=liil1l1l,this.itmObjs={},this[i(503)]=[],this.glbKeysDef=new Set,this.lastUpdTs={},this[i(619)]=!0,this[i(542)]=null,this[i(539)]={},this[i(388)]={},this[i(402)]={},this[i(469)]={},regFun(this[i(477)])}[iiillll1(404)]=i=>"#"+(i<0?4294967295+i+1:i)[iiillll1(565)](16).padStart(8,"0")[iiillll1(427)](2,8);[iiillll1(390)]=(i=8)=>Array[iiillll1(537)]({length:i+3},()=>"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[iiillll1(464)](Math[iiillll1(509)](62*Math.random())))[iiillll1(474)]("");[iiillll1(578)]=i=>{var l=iiillll1,e=iil1ili1(9);return this[l(388)][i]=e};[iiillll1(493)]=i=>{var l=iiillll1;if(!this[l(619)])return l(408);try{var{items:e=[]}=JSON[l(383)](i);return e[l(400)](i=>i.color)?.color||"#0000FF"}catch(i){return clientMessage(l(514)+i[l(437)]),l(534)}};[iiillll1(559)]=(i,s)=>{let n=iiillll1,l=(i.forEach(i=>{var l=li1illii;l(440)===l(440)?(i[l(362)]||(i.key=this[l(390)]()),i[l(507)]||(i.type="TextView"),i.type!==l(529)||i[l(521)]||(i[l(521)]=[])):iii1iili(l(583)+li11li11.message)}),s);if(this[n(503)].includes(l)){if("KzpEm"!==n(586))return void ll11ii1i(n(587));removeMenu(l),delete this[n(411)][l],this.oUis=this[n(503)][n(484)](i=>i!==l)}let e;try{n(465)===n(482)?(i1ll11li(lii1l111.message),l1liiiii(n(555),iliilil1),lil1ll11("pass",ll1lill1),ill111ii()&&iiii11l1("欢迎,"+li1i1ll1),i1liilii=i1ill1l1):e=JSON[n(383)](read_file(getResource()+n(443)))}catch(i){n(598)===n(598)?(clientMessage(n(575)+i[n(437)]),e={ui:["main"]}):llll1lli[n(447)]&&lili1111(l11iil11[n(610)][li111ii1],n(435))}let a=this.useLclUi?read_file(getResource()+n(425)+(e.ui||[n(548)])[0]+n(533)):this[n(542)];a||this.useLclUi||(n(591)!==n(591)?l111liii(n(566)+l111iiii+": "+llill1il[n(437)]):(clientMessage(n(572)),a=read_file(getResource()+"/ui/"+(e.ui||["main"])[0]+n(533)),this[n(619)]=!0)),this.itmObjs[l]={},i.forEach(t=>{let a=n;var i;a(601)===a(601)?(this[a(411)][l][t[a(362)]]={...t},i="SeekBar"===t.type?t[a(362)]:a(550)+t[a(362)],this.glbKeysDef.has(i)||(a(409)!==a(409)?ilili1il("",!0,a(546)):(Object[a(441)](globalThis,i,{get:()=>{let l=a,i={SeekBar:()=>parseFloat(t.value),Switch:()=>Boolean(t.checked),CheckBox:()=>Boolean(t.checked),EditText:()=>t[l(414)]||"",RadioGroup:()=>t[l(521)]?.[l(400)](i=>i[l(560)])?.key||null,TextView:()=>t[l(414)]||t[l(380)]||"",ColorPicker:()=>t[l(414)]||t[l(380)]||""};return(i[t.type]||(()=>t[l(414)]||""))()},set:l=>{let e=a;try{if(e(551)===e(540))return llii1il1(e(514)+lii1i1ll[e(437)]),e(534);({SeekBar:()=>t[e(447)]=parseFloat(l)[e(361)](1),Switch:()=>t[e(560)]=Boolean(l),CheckBox:()=>t[e(560)]=Boolean(l),EditText:()=>t[e(414)]=l,TextView:()=>t[e(414)]=l,RadioGroup:()=>t[e(521)]?.forEach(i=>i[e(560)]=i[e(362)]===l),ColorPicker:()=>t.default_color=l}[t.type]||(()=>{}))(),s&&t[e(362)]&&!t[e(362)][e(602)](e(518))&&(t[e(362)],(()=>{let l=e;switch(t[l(507)]){case l(573):return parseFloat(t[l(447)]);case l(397):case"CheckBox":return Boolean(t.checked);case l(381):case l(541):return t[l(414)];case"RadioGroup":return t[l(521)]?.[l(400)](i=>i[l(560)])?.[l(362)];case"ColorPicker":return t[l(380)]||l(403);default:}})())}catch(i){clientMessage(e(527)+t[e(362)]+": "+i[e(437)])}},enumerable:!0,configurable:!0}),this[a(545)][a(454)](i))),({Switch:()=>globalThis[a(550)+t.key]=Boolean(t[a(560)]),CheckBox:()=>globalThis[a(550)+t[a(362)]]=Boolean(t[a(560)]),EditText:()=>globalThis[a(550)+t[a(362)]]=t[a(414)]||"",SeekBar:()=>globalThis[t[a(362)]]=parseFloat(t.value)||0,RadioGroup:()=>{let l=a;var i;l(577)!==l(577)?ii1lilil(()=>{var i=l;i1111iii(i(401),"main")},600):(i=t[l(521)]?.find(i=>i.checked),globalThis[l(550)+t[l(362)]]=i?i[l(362)]:null)},ColorPicker:()=>globalThis[a(550)+t.key]=t[a(380)]||a(403),TextView:()=>globalThis[a(550)+t[a(362)]]=t.text||""}[t.type]||(()=>{}))()):lliiil1l[a(423)]({type:a(488),key:l1iiilil,value:llililii,item:lill11li})});let t;try{t=JSON[n(383)](a)}catch(i){clientMessage("解析 MainUIJson 错误: "+i[n(437)]),exit()}t[n(530)][n(588)]=s||t[n(530)][n(588)],t[n(457)]=!0,t[n(521)]=[{type:n(541),name:s,color:n(391),size:14,padding:[5,-16,5,0],tag:this[n(477)],items:i[n(395)](i=>{let l=n,e={type:i[l(507)],name:i[l(588)],color:i[l(488)]||this[l(493)](a),size:i[l(505)]||13,padding:i[l(500)]||(i.type===l(432)?[2,2,2,2]:[5,5,5,5]),key:i[l(362)],...i.values||{}},t={ColorPicker:{default_color:i.default_color||l(403),ok:i.ok||"确定",cancel:i[l(419)]||"取消"},SeekBar:{format:i[l(588)]+" %.1f",min:parseFloat(i[l(620)]||0).toFixed(1),max:parseFloat(i.max||100)[l(361)](1),value:parseFloat(i[l(447)]||0).toFixed(1)},Switch:{checked:Boolean(i.checked)},CheckBox:{checked:Boolean(i.checked)},TextView:{},EditText:{text:i.text||"",max_lines:i[l(582)]||1,hint:i[l(368)]||i[l(588)]},RadioGroup:{items:(i[l(521)]||[])[l(395)](i=>({key:i[l(362)],name:i[l(588)],color:i[l(488)]||l(538),size:i[l(505)]||8,checked:Boolean(i[l(560)])}))}};return{...e,...t[i[l(507)]]||{},onChange:i.onChange||null,html:i.html,url:i[l(508)],tip:i[l(523)]}})}];i=JSON[n(604)](t)[n(449)](/"(-?\d+\.\d+)"/g,"$1");this[n(503)].push(l),this[n(469)][l]=Date.now(),loadMenu(l,i)};[iiillll1(376)]=s=>{let l=iiillll1;try{if(JSON.stringify(s)[l(590)](this[l(477)])){var i,e,t=Date[l(596)]();for(i in this[l(469)])if(t-this.menuOpenTimestamps[i]<500){if("sQpOz"===l(612))return;try{i1ll1lil()}catch(i){l1ili1i1(l(504)+i[l(437)])}}for(e in this[l(469)])5e3<t-this[l(469)][e]&&delete this.menuOpenTimestamps[e];Object[l(431)](s)[l(484)](i=>!["fun",l(588),"value",l(375),l(362)][l(590)](i))[l(544)](s.key?[s.key]:[])[l(450)](a=>{let i=l;Object[i(446)](this.itmObjs)[i(450)](e=>{let t=i;if("sVGqV"===t(382))delete this.frmData[ii1llii1],delete this[t(402)][iillllli];else{if(!e[a]){if("lWgGK"===t(543))return;this[t(503)][t(450)](i=>{var l=t;lii1i1li(i),delete this[l(411)][i]}),this[t(503)]=[],ii1l1iil(t(444)),il1iiii1(i1liiill,500)}let i=e[a],l=Date[t(596)]();try{thread(()=>this.handleItemByType(i,a,s,l),600)}catch(i){t(515)===t(522)?l111llii[t(616)](l1l111il,ll1iliii):clientMessage("处理 key "+a+t(563)+i.message+", "+i[t(365)])}}})})}}catch(i){clientMessage(l(412)+i.message+", "+i[l(365)])}};[iiillll1(372)](i,l,e,t){var a=iiillll1;switch(i[a(507)]){case a(541):this.handleTextView(i,l);break;case a(573):this[a(589)](i,l,e,t);break;case a(397):case"CheckBox":this.handleToggle(i,l,e);break;case a(381):this[a(517)](i,l,e);break;case a(529):this[a(374)](i,l,e);break;case a(512):this[a(461)](i,l,e);break;default:clientMessage(a(394)+i[a(507)]+a(429)+l)}}[iiillll1(502)](i,l){var e=iiillll1;if(globalThis[e(426)]&&globalThis[e(426)](i,l),typeof i[e(423)]===e(594))if(e(495)!==e(495))try{lii1i1il[e(423)]({type:e(488),key:llllilii,value:llil111l,item:liii1iil})}catch(i){llll1lii(e(566)+i11il1il+": "+i[e(437)])}else try{e(609)!==e(609)?iilii111(e(448)+i1i1i11i.message):i[e(423)]({type:"click",key:l,item:i})}catch(i){clientMessage(e(566)+l+": "+i[e(437)])}}[iiillll1(589)](i,l,e,t){var a=iiillll1,e=parseFloat(e[l]);if(this[a(371)][l]&&t-this.lastUpdTs[l]<=100){if("tpyEd"===a(562))return;if(!this.useLclUi)return a(408);try{var{items:s=[]}=iiii1i11[a(383)](ii11iiii);return s[a(400)](i=>i.color)?.[a(488)]||a(534)}catch(i){return liiliiii(a(514)+i[a(437)]),a(534)}}if(this[a(371)][l]=t,e<parseFloat(i.min)||e>parseFloat(i.max))clientMessage(a(460)+l+a(473)+e);else if(globalThis[a(616)]&&globalThis[a(616)](i,l),globalThis[l]=e[a(361)](1),i.value=e.toFixed(1),typeof i[a(423)]===a(594))try{a(607)!==a(592)?i[a(423)]({type:a(567),key:l,value:i.value,item:i}):iililll1[a(560)]=l11111ii[a(362)]===i1iiiii1}catch(i){clientMessage(a(566)+l+": "+i[a(437)])}}["handleToggle"](i,l,e){var t=iiillll1,e=Boolean(e[l]);if(i.checked=e,globalThis.handleValueChange&&globalThis.handleValueChange(i,l),globalThis[t(550)+l]=e,"function"==typeof i[t(423)])try{t(405)!==t(405)?lliiiiil[t(521)]=[]:i[t(423)]({type:t(614),key:l,value:e,item:i})}catch(i){if("TzZjJ"!==t(569))for(let l of i1llii1i){let i=lil11ii1.frmData[i11lilli][l];var a=l1i111il[t(446)](li11i1il[t(411)]).find(i=>i[l])?.[l];!a||a.type!==t(541)&&a[t(507)]!==t(512)&&"RadioGroup"!==a[t(507)]||(i=ili1li1i(i||"")),li1lii1l[t(595)](i)}else clientMessage(t(566)+l+": "+i[t(437)])}}[iiillll1(517)](i,l,e){var t=iiillll1,e=e[l];if(i[t(414)]=e,globalThis[t(616)]&&globalThis[t(616)](i,l),globalThis[t(550)+l]=e,typeof i[t(423)]===t(594))try{i[t(423)]({type:t(384),key:l,value:e,item:i})}catch(i){clientMessage(t(566)+l+": "+i.message)}}[iiillll1(374)](i,l,e){let t=iiillll1,a=e[l];if(i[t(521)]&&i[t(521)][t(450)](i=>{var l=t;l(417)!==l(417)?l1iil1i1():i[l(560)]=i[l(362)]===a}),globalThis[t(616)]&&globalThis[t(616)](i,l),globalThis["fun_"+l]=a,"function"==typeof i.onChange)if(t(621)!==t(624))try{var s=i[t(521)]?.[t(400)](i=>i[t(362)]===a);s?i[t(423)]({type:t(489),key:l,value:s[t(362)],item:i}):clientMessage(t(471)+a+t(421))}catch(i){clientMessage(t(566)+l+": "+i[t(437)])}else lillil1i.key||(lil1i111[t(362)]=this[t(390)]()),ilili1l1[t(507)]||(lliiliil.type=t(541)),il11iiii[t(507)]!==t(529)||il1lilii.items||(il11i11l[t(521)]=[])}[iiillll1(461)](i,l,e){var t=iiillll1,e=this.decToHexClr(e[l]);if(i[t(380)]=e,globalThis[t(616)]&&globalThis.handleValueChange(i,l),globalThis[t(550)+l]=e,typeof i.onChange===t(594))try{i.onChange({type:"color",key:l,value:e,item:i})}catch(i){clientMessage("onChange error for "+l+": "+i[t(437)])}}["closeAllUis"]=()=>{var l=iiillll1;try{thread(()=>{var i=li1illii;this[i(503)][i(450)](i=>{removeMenu(i),delete this.itmObjs[i]}),this[i(503)]=[],clientMessage(i(444)),thread(exit,500)},500)}catch(i){clientMessage(i[l(437)])}};[iiillll1(480)]=(i,l,t)=>{let a=iiillll1,s=a(518)+this.genRndKey(5),n=[];this.frmData[s]={name:i},l[a(450)](i=>{let l=a,e=i.key||"for_"+this.genRndKey(5);i[l(362)]=e,n.push(e);var t={EditText:()=>i.text||"",SeekBar:()=>parseFloat(i[l(447)])||0,Switch:()=>Boolean(i[l(560)]),CheckBox:()=>Boolean(i[l(560)]),RadioGroup:()=>i[l(521)]?.[l(400)](i=>i.checked)?.[l(362)]||null,ColorPicker:()=>i.default_color||l(403),TextView:()=>i[l(414)]||""};this.frmData[s][e]=(t[i[l(507)]]||(()=>null))()}),l[a(595)]({name:"提交",key:s,size:15,tip:a(553)}),globalThis[a(497)+s]=i=>{let e=a;if(e(389)===e(557))illllli1(()=>this[e(372)](ii11i1l1,lilll1ll,liii11ii,iiiiliii),600);else{try{t(i)}catch(i){clientMessage(e(600)+i.message)}try{if(e(415)===e(386))try{i11liill[e(423)]({type:e(384),key:lllil1i1,value:ii1l1lil,item:i1iilili})}catch(i){ll1il1ii(e(566)+l1ilii11+": "+i[e(437)])}else delete globalThis[e(497)+s],delete globalThis["formItemKeysOrder_"+s],thread(()=>{var l=e;try{delete this[l(539)][s],delete this.formSubmitLock[s]}catch(i){clientMessage(l(583)+i.message)}},1e3)}catch(i){clientMessage(e(506)+i[e(437)])}}},globalThis["formItemKeysOrder_"+s]=n,this[a(559)](l,i)};["getRndMenuName"]=i=>this[iiillll1(388)][i]||i}globalThis[iiillll1(426)]=(i,l)=>{let s=iiillll1;if(l===s(579))thread(()=>{let e=s;try{var i;if(e(424)===e(606)){if(liillili)return i=lii1ii11[e(434)](iiiliili,arguments),iililiii=null,i}else thread(()=>{var l=e;try{exit()}catch(i){clientMessage(l(504)+i.message)}},300)}catch(i){clientMessage("退出定时器错误: "+i[e(437)])}},0);else if(l.startsWith("form_")){let a=l;if(ii1l1lli[s(402)][a])clientMessage(s(455));else{ii1l1lli.formSubmitLock[a]=!0;let i=globalThis[s(497)+a],t=globalThis[s(618)+a];if(ii1l1lli[s(539)][a]){let e=[];if(t&&Array[s(605)](t))for(let l of t){let i=ii1l1lli[s(539)][a][l];var n=Object[s(446)](ii1l1lli[s(411)])[s(400)](i=>i[l])?.[l];!n||n[s(507)]!==s(541)&&"ColorPicker"!==n[s(507)]&&n[s(507)]!==s(529)||("INmkV"===s(491)?liill1il("",!0):i=String(i||"")),e[s(595)](i)}else clientMessage("itemKeysOrder 不存在或不是数组: "+a),delete ii1l1lli[s(402)][a];if(typeof i===s(594)){var r=s;try{r(528)===r(528)?i(e):i1i1i11l(lii1ili1[r(610)][liillil1],"vip")}catch(i){clientMessage(r(379)+i[r(437)]),delete ii1l1lli[r(402)][a]}}else r=s,clientMessage(r(366)+a+r(458)),delete ii1l1lli[r(402)][a];thread(()=>{var l=s;try{if("xcqTC"===l(564))lill1lil(l(510)+liii1l1i[l(437)]);else{var e,t=ii1l1lli[l(539)][a]?.[l(588)];if(t){let i=ii1l1lli[l(613)](t);i?l(407)!==l(407)?llilliii(l(566)+l1lliili+": "+ii1illli[l(437)]):(setTimeout(()=>removeMenu(i),500),-1!==(e=ii1l1lli.oUis[l(558)](i))&&ii1l1lli[l(503)].splice(e,1),delete ii1l1lli[l(411)][i]):clientMessage("找不到表单 "+t+l(516))}else clientMessage(l(585)+a+" 没有名称")}}catch(i){clientMessage(l(448)+i.message)}},300)}else clientMessage(s(463)+a+" 不存在"),delete ii1l1lli[s(402)][a]}}else globalThis[s(524)]&&globalThis[s(524)](i,l)},globalThis[iiillll1(616)]=(i,l)=>{let e=iiillll1;var t,a;l[e(602)](e(478))&&(e(532)!==e(532)?ll1liii1("警告：在 formData 中没有找到表单项 key: "+ilii1ill):(t=Object[e(431)](ii1l1lli[e(539)]).find(i=>i.startsWith(e(518))&&ii1l1lli[e(539)][i]&&Object[e(498)][e(399)][e(536)](ii1l1lli[e(539)][i],l)))?(a={SeekBar:()=>typeof globalThis[l]!==e(486)?parseFloat(globalThis[l]):null,Switch:()=>typeof globalThis["fun_"+l]!==e(486)?Boolean(globalThis[e(550)+l]):null,CheckBox:()=>typeof globalThis["fun_"+l]!==e(486)?Boolean(globalThis[e(550)+l]):null,RadioGroup:()=>typeof globalThis[e(550)+l]!==e(486)?String(globalThis[e(550)+l]):"",ColorPicker:()=>typeof globalThis[e(550)+l]!==e(486)?String(globalThis[e(550)+l]):"",TextView:()=>typeof globalThis[e(550)+l]!==e(486)?String(globalThis[e(550)+l]):"",EditText:()=>typeof globalThis["fun_"+l]!==e(486)?globalThis["fun_"+l]:null},ii1l1lli[e(539)][t][l]=(a[i[e(507)]]||(()=>null))()):clientMessage(e(535)+l))};let ii1l1lli=new llii11ll,iilli1il=null,ll1ii1il=getResource()+"/script",l111l1li=()=>{let t=iiillll1;var i=[{type:t(381),name:t(393),text:"",key:t(499),onChange:()=>ii1li1i1(fun_search)},{name:t(456),type:t(541),onChange:()=>{ii1li1i1()}},{name:t(433),type:"TextView",onChange:()=>{var i=t;i(597)===i(597)?ii1li1i1("",!0):i1l1i1i1()}},{name:t(549),type:t(541),onChange:()=>{ii1li1i1("",!0,t(546))}},{name:"内部JS",type:t(541),onChange:()=>{li1i1l11()}},{name:"设置",type:"TextView",onChange:()=>{var i=t;"zsaGR"!==i(625)?illil1il():llliil1i(i(452)+ii1iill1[i(437)])}},{name:"退出",onChange:()=>ii1l1lli[t(581)]()}];if(iilli1il&&0<iilli1il.permission_group[t(552)])for(let e=0;e<iilli1il.permission_group[t(552)];e++)i.push({name:iilli1il.permission_group[e],type:"Switch",onChange:i=>{var l=t;i[l(447)]&&iilillii(iilli1il[l(610)][e],l(435))}});ii1l1lli.genMenu(i,"JS工具箱",!1)},illil1il=()=>ii1l1lli.genMenu([{type:"EditText",name:iiillll1(611),text:ll1ii1il,key:"local",onChange:()=>{ll1ii1il=fun_local}},{name:iilli1il?"退出":iiillll1(396),type:iiillll1(541),onChange:()=>{var i=iiillll1;iilli1il?i(363)===i(422)?ii11liil():(iilli1il=null,ii1li1li(i(555),""),ii1li1li("pass",""),showToast(i(593))):ll11l111()}}],"设置",!1),ll11l111=()=>ii1l1lli[iiillll1(480)](iiillll1(561),[{type:iiillll1(381),name:iiillll1(476),key:iiillll1(555),text:iiilil1l(iiillll1(555))||""},{type:"EditText",name:"密码",key:"pass",text:iiilil1l("pass")||""}],i=>{lli1iii1(fun_user,fun_pass)});function iiiiiii1(){let i=["items","WjEQo","tip","handleClickEventZ","read","vsOFS","Error setting value for ","TPXLG","RadioGroup","title","endsWith","UGjPQ",".json","#0000FF","警告：在 formData 中没有找到表单项 key: ","call","from","$menu_item_color","frmData","lJjVB","TextView","mainUiJs","lWgGK","concat","glbKeysDef","tools","读取配置文件错误: ","main","工具箱","fun_","GSdwp","length","请勿重复点击提交","1037448hZTTWW","user","&user=","tCeXU","indexOf","genMenu","checked","登录云端","tpyEd"," 时出错: ","XOOqA","toString","onChange error for ","seekbar","http://getw.net/require/sound/DEFAULT_CLICK_SOUND.mp3","TzZjJ","67206tgyDsJ","编辑/查看 JS脚本","Main UI content not available. Falling back to local UI.","SeekBar","云端加载脚本:","解析 ui_definition.json 错误: "," MB","wJMBL","genRndMenuName","qiut","write","closeAllUis","max_lines","延迟清理表单数据错误: ","http://getw.net/require/sound/SWITCH_OFF_SOUND.mp3","表单 ","KzpEm","尚未登录云端加载器","name","handleSeekBar","includes","hkjPW","mlXuh","退出成功","function","push","now","ECjDd","hXmzB","/script/uiManager.js","表单回调错误: ","wSavb","startsWith","&file=","stringify","isArray","ZsKKA","ZBnTC","编译js脚本为bin","girYt","permission_group","本地JS路径","sQpOz","getRndMenuName","toggle","执行JS:","handleValueChange","/config.json","formItemKeysOrder_","useLclUi","min","nnvwZ"," %.1f","main()","PbvqO","gjMSS","toFixed","key","WPpsb","writeBinary","stack","没有找到表单 ","EfwhQ","hint","6OUEedX","Wgqoy","lastUpdTs","handleItemByType","QurHx","handleRadioGroup","index","handleModuleEvent","80110cbeZPc","本地JS列表","表单提交回调错误: ","default_color","EditText","dvFpf","parse","edit","iYzsU","phngy","QbHwZ","menuNmMap","CzjuV","genRndKey","#1abc9c","云端内部JS列表","搜索JS","未处理的类型 ","map","登录JS云端","Switch","(((.+)+)+)+$","hasOwnProperty","find","建筑助手-导出.js","formSubmitLock","#FFFFFF","decToHexClr","TAlPQ",", 将创建新配置","AXlch","#ff0000","QibuH","编译成功：","itmObjs","onCallModuleEvent 错误: ","vbHFH","text","UhVfr","pass","pXPLc",".js","cancel","216983toWVLt",'" not found.',"rKJyy","onChange","RuzJf","/ui/","handleClickEvent","slice","splice"," for key ","DwOSJ","keys","CheckBox","云端JS","apply","vip","error","message","编辑文件","hoqsO","upTvd","defineProperty","HQFNi","/ui/ui_definition.json","退出脚本.","s()","values","value","关闭表单错误: ","replace","forEach","trim","保存设置错误: ","欢迎,","add","表单正在提交中，请稍候...","本地JS","can_close"," 的回调函数","10UNmrLB","SeekBar ","handleColorPicker","解析云端数据失败: ","表单数据 ","charAt","zmVXM","7HGroFe",'云端JS搜索结果: "',"html","menuOpenTimestamps","toLowerCase",'RadioGroup: Key "',"云端JS:"," 的值超出范围: ","join","4HdVgrh","用户名/QQ号","funcId","for_","§l§e『JS』 §r->§b ","uiForm","1342506CcZSfs","ZkVdg","http://v4.getw.net/api.php?file=uiManager.js","filter","PDWpl","undefined","485448mMqPxK","color","radio","48EQAifL","nsZfa","funcName","getFrstNnNullClr","abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","lQVoY","&pass=","formCallback_","prototype","search","padding","§l§d建筑助手","handleTextView","oUis","退出时错误: ","size","清理表单数据错误: ","type","url","floor","退出定时器错误: ","/script/","ColorPicker","znPVp","解析主 UI JSON 出错: ","VgRAi"," 的随机名称","handleEditText","form_","2861109VKkHcZ",".bin"];return(iiiiiii1=function(){return i})()}function ii1li1i1(s="",i=!1,n="main"){let t=iiillll1;function r(i){var l=li1illii;if("DwOSJ"===l(430))return i<1024?i+" B":i<1048576?"UgcMG"!==l(513)?(i/1024)[l(361)](2)+" KB":void l1iil1li(l1ii11i1[l(610)][l1liliii],"vip"):(i/1048576)[l(361)](2)+l(576);i1llliil(ll1l1iil),delete this.itmObjs[llli1i1i],this[l(503)]=this[l(503)][l(484)](i=>i!==iii11l11)}if(i)curl_get("http://v4.getw.net/api.php?type="+n,{},(i,l)=>{let e=li1illii;try{var t=JSON.parse(l);let a=[];t[e(450)](l=>{let t=e;if(l.name[t(531)](t(418))&&(""===s||l[t(588)].toLowerCase().includes(s[t(470)]()))){let i=r(l.size),e=l[t(588)];a.push({name:e+" ("+i+")",type:"Switch",onChange:i=>{let l=t;"ASVkW"!==l(370)?i.value&&iilillii(e,n):(i={SeekBar:()=>typeof lllii1il[li1ll1il]!==l(486)?il111iii(illl11i1[li1il1ll]):null,Switch:()=>typeof l1l1llli[l(550)+l1ll111l]!==l(486)?iiii1ii1(lli1llii[l(550)+il1i1li1]):null,CheckBox:()=>typeof ll1iiill[l(550)+ll11lill]!==l(486)?i1ii11ll(lii1llll[l(550)+li1ii111]):null,RadioGroup:()=>void 0!==il1illil[l(550)+illiil1l]?ii1lii11(lililll1[l(550)+i11ilil1]):"",ColorPicker:()=>void 0!==illl1ll1[l(550)+ll11ii1l]?il1l1lli(iiil1lil[l(550)+lililili]):"",TextView:()=>typeof iliiil1l[l(550)+ili1i1li]!==l(486)?lili111i(iilli111["fun_"+i1ll1i11]):"",EditText:()=>void 0!==lli1ii1l["fun_"+i1l1il11]?llli1lll[l(550)+li11lili]:null},l1i1iil1[l(539)][i1iillii][iili11i1]=(i[lii1lii1[l(507)]]||(()=>null))())}})}}),ii1l1lli[e(559)](a,s?e(467)+s+'"':e(472)+n)}catch(i){e(367)===e(373)?(l=i111ilii(illill1l(iiil11il()+e(511)+ilill1ii),e(623)),t=l11i1ll1()+"/script/"+i1li1lil[e(449)](e(418),e(520)),i1lil1i1[e(364)](t,l),lli1lli1(e(410)+t)):showToast(e(462)+i[e(437)])}});else{i=file_list(ll1ii1il);let l=[];i[t(450)](e=>{let a=t;if((e[a(588)][a(531)](a(418))||e[a(588)][a(531)](a(520)))&&(""===s||e[a(588)][a(470)]().includes(s.toLowerCase()))){let i=r(e[a(552)]),t=e[a(588)];l[a(595)]({name:t+" ("+i+")",type:a(397),onChange:i=>{var l=a;l(442)===l(442)?i.value&&(showToast(l(615)+t),e[l(588)][l(531)](".js")?loadScript(t):e[l(588)][l(531)](l(520))&&loadSnapshot(t,l(445))):(l11ii1li(()=>ililil1i(l1i11iil),500),-1!==(i=l111i1l1[l(503)][l(558)](iiliilll))&&iil11ii1[l(503)][l(428)](i,1),delete lii1i11i.itmObjs[lli1iiil])}}),l[a(595)]({name:a(571),onChange:()=>i11i1il1(e.path,e.name)}),l[a(595)]({name:a(608),onChange:()=>{var i,l,e=a;"MPEAo"===e(387)?(iii1li1i("没有找到表单 "+i1l1iill+e(458)),delete il111iil[e(402)][liiii111]):(i=createSnapshot(read_file(getResource()+e(511)+t),e(623)),l=getResource()+e(511)+t[e(449)](e(418),".bin"),File[e(364)](l,i),showToast(e(410)+l))}})}}),ii1l1lli[t(559)](l,s?'JS搜索结果: "'+s+'"':t(378))}}function li1i1l11(){let t=iiillll1;if(!iilli1il){if("PDWpl"===t(485))return void showToast(t(587));liliill1(lillll1i)}var i=[];for(let e=0;e<iilli1il.permission_group.length;e++)i[t(595)]({name:iilli1il[t(610)][e],type:t(397),onChange:i=>{var l=t;i[l(447)]&&iilillii(iilli1il[l(610)][e],l(435))}});ii1l1lli.genMenu(i,t(392))}function li1illii(i,l){let e=iiiiiii1();return(li1illii=function(i,l){return i-=361,e[i]})(i,l)}function iilillii(t,i="main"){let a=iiillll1;curl_get("http://v4.getw.net/api.php?type="+i+a(603)+t+a(556)+iiilil1l(a(555))+a(496)+iiilil1l(a(416)),{},(i,l)=>{let e=a;File[e(580)](ll1ii1il+"/"+t,l),showToast(e(574)+t),t.includes(e(501))&&setTimeout(()=>{iilillii("建筑助手-导出.js",e(548))},600),setTimeout(()=>loadScript(t),600)})}function lli1iii1(a,s){curl_get("http://v4.getw.net/login.php?username="+a+"&password="+s,{},(i,l)=>{var e=li1illii;try{var t=JSON[e(383)](l);t[e(436)]?showToast(t[e(436)]):(t.message&&(showToast(t.message),ii1li1li(e(555),a),ii1li1li(e(416),s),isInGame()&&setTitle(e(453)+a),iilli1il=t),thread(()=>l111l1li(),500))}catch(i){}})}function i11i1il1(e,t=iiillll1(438)){let a=iiillll1,i=File[a(525)](e);ii1l1lli[a(559)]([{type:"EditText",name:"文件",text:i,onChange:i=>{var l=a;l(413)===l(413)?(File.write(e,i[l(447)]),showToast("修改文件成功："+t)):lilliill(l(600)+ilii1lil.message)}}],t,!1)}let onCallModuleEvent=ii1l1lli[iiillll1(376)];curl_get(iiillll1(483),{},(i,l)=>{var e=iiillll1;File[e(580)](getResource()+e(599),l),iiilil1l(e(555))&&iiilil1l(e(416))?lli1iii1(iiilil1l(e(555)),iiilil1l(e(416))):l111l1li()});export{onCallModuleEvent};